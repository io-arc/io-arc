/*!
Environment
Build environment define

https://github.com/io-arc/io-arc/packages/env
Version: 0.0.0
License: ISC
Copyright (c) 2020 arc one
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@io-arc/path-build"),require("config")):"function"==typeof define&&define.amd?define(["exports","@io-arc/path-build","config"],e):e((t=t||self).Env={},t.PathBuild,t.config)}(this,(function(t,e,o){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const s={DEVELOPMENT:"development",PRODUCTION:"production",TEST:"test",NONE:"none"},i={ONCE:"once",WATCH:"watch"},r=o.has("overrideEnv")?o.get("overrideEnv"):process.env.NODE_ENV||s.DEVELOPMENT,a=process.env.MODE_ENV||i.ONCE,_=r===s.PRODUCTION,n=(t,e)=>o.has(t)?o.get(t):e,T=n("outputDir","dist"),c=e.absolute([T]),O=(t,e)=>{if(!o.has(t))return["src",e];const s=o.get(t);return""===s?["src",e]:["src",s]},l=(t,o)=>e.relative(O(t,o)),E=O("wsDir.static","static"),A=l("wsDir.static","static"),p=O("wsDir.html","html"),S=e.relative(p),u=e.absolute(p),d=n("options.fileLoader.html.use",!0),R=n("options.fileLoader.html.hash",!0),m=n("options.fileLoader.html.target",[{tag:"img",attribute:"src",type:"src"},{tag:"img",attribute:"srcset",type:"srcset"},{tag:"img",attribute:"data-src",type:"src"},{tag:"img",attribute:"data-srcset",type:"srcset"},{tag:"source",attribute:"src",type:"src"}]),D=n("options.html.minify",!1),I=n("deployDir.css",["common","css"]),L=n("deployDir.js",["common","js"]),f=n("deployDir.json",["common","data"]),N=O("wsDir.yaml2json","yaml2json"),y=l("wsDir.yaml2json","yaml2json"),M=n("options.json.minify",!1),g=[T,...f],P=(h="wsDir.imgLoader",U="img",e.absolute(O(h,U)));var h,U;const H=n("deployDir.img",["common","img"]),Y=[T,...H],b=n("url",""),v=n("siteRoot","/"),j=""!==b?b+v.replace(/\/$/,""):"",C=n("title",""),W=n("author",""),w=n("description","");t.BUILD=s,t.DEPLOY_IMG_ARRAY=Y,t.DEPLOY_YAML2JSON_ARR=g,t.DIST=T,t.DIST_ABSOLUTE=c,t.HTML_MINIFY=D,t.IS_HASH_HTML_FILE_LOADER=R,t.IS_PRODUCTION=_,t.JSON_MINIFY=M,t.MODE=i,t.MODE_ENV=a,t.NODE_ENV=r,t.OUTPUT_CSS_ARRAY=I,t.OUTPUT_IMG_ARRAY=H,t.OUTPUT_JSON_ARRAY=f,t.OUTPUT_JS_ARRAY=L,t.SITE_AUTHOR=W,t.SITE_DESCRIPTION=w,t.SITE_DOMAIN=b,t.SITE_ROOT=v,t.SITE_TITLE=C,t.SITE_URL=j,t.TARGET_HTML_FILE_LOADER=m,t.USE_HTML_FILE_LOADER=d,t.WS_HTML_ARRAY=p,t.WS_HTML_PATH=S,t.WS_HTML_PATH_ABSOLUTE=u,t.WS_IMG_PATH_ABSOLUTE=P,t.WS_ROOT="src",t.WS_STATIC_ARRAY=E,t.WS_STATIC_PATH=A,t.WS_YAML2JSON_ARRAY=N,t.WS_YAML2JSON_PATH=y,t.siteRootRelative=t=>0===t.length?v:`${v+e.relative(t)}/`,Object.defineProperty(t,"__esModule",{value:!0})}));
