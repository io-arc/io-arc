/*!
Environment
Build environment define

https://github.com/io-arc/io-arc/packages/env
Version: 0.0.0
License: ISC
Copyright (c) 2020 arc one
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@io-arc/path-build"),require("config")):"function"==typeof define&&define.amd?define(["exports","@io-arc/path-build","config"],t):t((e=e||self).Env={},e.PathBuild,e.config)}(this,(function(e,t,o){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,o=o&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o;const i={DEVELOPMENT:"development",PRODUCTION:"production",TEST:"test",NONE:"none"},s={ONCE:"once",WATCH:"watch"},r=o.has("overrideEnv")?o.get("overrideEnv"):process.env.NODE_ENV||i.DEVELOPMENT,n=process.env.MODE_ENV||s.ONCE,_=r===i.PRODUCTION,c=(e,t)=>o.has(e)?o.get(e):t,T=c("outputDir","dist"),a=(e,t)=>{if(!o.has(e))return["src",t];const i=o.get(e);return""===i?["src",t]:["src",i]},O=(e,o)=>t.relative(a(e,o)),l=a("wsDir.static","static"),E=O("wsDir.static","static"),A=a("wsDir.html","html"),d=c("options.fileLoader.html.use",!0),R=c("options.fileLoader.html.hash",!0),p=c("options.fileLoader.html.target",[":srcset","img:src","audio:src","video:src","source:src"]),S=c("options.html.minify",!1),D=c("deployDir.css",["common","css"]),I=c("deployDir.js",["common","js"]),m=c("deployDir.json",["common","data"]),u=a("wsDir.yaml2json","yaml2json"),L=O("wsDir.yaml2json","yaml2json"),f=c("options.json.minify",!1),N=[T,...m],h=(M="wsDir.imgLoader",P="img",t.absolute(a(M,P)));var M,P;const y=c("deployDir.img",["common","img"]),U=[T,...y],Y=c("url",""),v=c("siteRoot","/"),g=""!==Y?Y+v.replace(/\/$/,""):"",j=c("title",""),H=c("author",""),C=c("description","");e.BUILD=i,e.DEPLOY_IMG_ARRAY=U,e.DEPLOY_YAML2JSON_ARR=N,e.DIST=T,e.HTML_MINIFY=S,e.IS_HASH_HTML_FILE_LOADER=R,e.IS_PRODUCTION=_,e.JSON_MINIFY=f,e.MODE=s,e.MODE_ENV=n,e.NODE_ENV=r,e.OUTPUT_CSS_ARRAY=D,e.OUTPUT_IMG_ARRAY=y,e.OUTPUT_JSON_ARRAY=m,e.OUTPUT_JS_ARRAY=I,e.SITE_AUTHOR=H,e.SITE_DESCRIPTION=C,e.SITE_DOMAIN=Y,e.SITE_ROOT=v,e.SITE_TITLE=j,e.SITE_URL=g,e.TARGET_HTML_FILE_LOADER=p,e.USE_HTML_FILE_LOADER=d,e.WS_HTML_ARRAY=A,e.WS_IMG_PATH_ABSOLUTE=h,e.WS_ROOT="src",e.WS_STATIC_ARRAY=l,e.WS_STATIC_PATH=E,e.WS_YAML2JSON_ARRAY=u,e.WS_YAML2JSON_PATH=L,e.siteRootRelative=e=>0===e.length?v:`${v+t.relative(e)}/`,Object.defineProperty(e,"__esModule",{value:!0})}));
