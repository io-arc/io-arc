/*!
Environment
Build environment define

https://github.com/io-arc/io-arc/packages/env
Version: 0.0.0
License: ISC
Copyright (c) 2020 arc one
*/
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@io-arc/path-build"),require("config")):"function"==typeof define&&define.amd?define(["exports","@io-arc/path-build","config"],e):e((t=t||self).Env={},t.PathBuild,t.config)}(this,(function(t,e,s){"use strict";e=e&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const o={DEVELOPMENT:"development",PRODUCTION:"production",TEST:"test",NONE:"none"},i={ONCE:"once",WATCH:"watch"},_=s.has("overrideEnv")?s.get("overrideEnv"):process.env.NODE_ENV||o.DEVELOPMENT,r=process.env.MODE_ENV||i.ONCE,a=_===o.PRODUCTION,T=(t,e)=>s.has(t)?s.get(t):e,S=T("outputDir","dist"),c=e.absolute([S]),n=(t,e)=>{if(!s.has(t))return["src",e];const o=s.get(t);return""===o?["src",e]:["src",o]},O=(t,s)=>e.relative(n(t,s)),E=n("wsDir.static","static"),A=O("wsDir.static","static"),l=n("wsDir.html","html"),p=e.relative(l),u=e.absolute(l),L=T("options.pug.php",!1),I=T("options.fileLoader.html.use",!0),d=T("options.fileLoader.html.hash",!0),R=T("options.fileLoader.html.target",[{tag:"img",attribute:"src",type:"src"},{tag:"img",attribute:"srcset",type:"srcset"},{tag:"img",attribute:"data-src",type:"src"},{tag:"img",attribute:"data-srcset",type:"srcset"},{tag:"source",attribute:"src",type:"src"}]),D=T("options.html.minify",!1),m=n("wsDir.css","css"),f=e.relative(m),P=e.absolute(m),N=T("options.fileLoader.css.use",!0),U=T("options.fileLoader.css.hash",!0),y=T("options.css.minify",!1),M=T("deployDir.css",["common","css"]),h=e.absolute([S,...M]),H=T("deployDir.js",["common","js"]),g=T("deployDir.json",["common","data"]),Y=n("wsDir.yaml2json","yaml2json"),C=O("wsDir.yaml2json","yaml2json"),b=T("options.json.minify",!1),v=[S,...g],W=(j="wsDir.imgLoader",w="img",e.absolute(n(j,w)));var j,w;const F=T("deployDir.img",["common","img"]),B=[S,...F],J=T("url",""),V=T("siteRoot","/"),G=""!==J?J+V.replace(/\/$/,""):"",x=T("title",""),q=T("author",""),$=T("description","");t.BUILD=o,t.CSS_MINIFY=y,t.DEPLOY_IMG_ARRAY=B,t.DEPLOY_YAML2JSON_ARRAY=v,t.DIST=S,t.DIST_ABSOLUTE=c,t.HTML_MINIFY=D,t.IS_HASH_CSS_FILE_LOADER=U,t.IS_HASH_HTML_FILE_LOADER=d,t.IS_PRODUCTION=a,t.JSON_MINIFY=b,t.MODE=i,t.MODE_ENV=r,t.NODE_ENV=_,t.OUTPUT_CSS_ARRAY=M,t.OUTPUT_CSS_PATH_ABSOLUTE=h,t.OUTPUT_IMG_ARRAY=F,t.OUTPUT_IN_PHP=L,t.OUTPUT_JSON_ARRAY=g,t.OUTPUT_JS_ARRAY=H,t.SITE_AUTHOR=q,t.SITE_DESCRIPTION=$,t.SITE_DOMAIN=J,t.SITE_ROOT=V,t.SITE_TITLE=x,t.SITE_URL=G,t.TARGET_HTML_FILE_LOADER=R,t.USE_CSS_FILE_LOADER=N,t.USE_HTML_FILE_LOADER=I,t.WS_CSS_ARRAY=m,t.WS_CSS_PATH=f,t.WS_CSS_PATH_ABSOLUTE=P,t.WS_HTML_ARRAY=l,t.WS_HTML_PATH=p,t.WS_HTML_PATH_ABSOLUTE=u,t.WS_IMG_PATH_ABSOLUTE=W,t.WS_ROOT="src",t.WS_STATIC_ARRAY=E,t.WS_STATIC_PATH=A,t.WS_YAML2JSON_ARRAY=Y,t.WS_YAML2JSON_PATH=C,Object.defineProperty(t,"__esModule",{value:!0})}));
