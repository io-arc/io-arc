/*!
@io-arc/env
Build environment define

Version: 1.1.0
License: ISC

Repository: https://github.com/io-arc/io-arc
Documents: https://io-arc.tech/plugins/modules/env/

Copyright (c) 2020-2022 arc one
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@io-arc/path-build"),require("config")):"function"==typeof define&&define.amd?define(["exports","@io-arc/path-build","config"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).Env={},e.PathBuild,e.config)}(this,(function(e,t,s){"use strict";t=t&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t,s=s&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s;const o={DEVELOPMENT:"development",PRODUCTION:"production",TEST:"test",NONE:"none"},i={ONCE:"once",WATCH:"watch"},_=s.has("overrideEnv")?s.get("overrideEnv"):process.env.NODE_ENV||o.DEVELOPMENT,r=process.env.MODE_ENV||i.ONCE,S="src",n=t.absolute([S]),a=_===o.PRODUCTION,T=(e,t)=>s.has(e)?s.get(e):t,l=T("outputDir","dist"),E=t.absolute([l]),p=(e,t)=>{if(!s.has(e))return[S,t];const o=s.get(e);return""===o?[S,t]:[S,o]},O=(e,s)=>t.relative(p(e,s)),c=p("wsDir.static","static"),A=O("wsDir.static","static"),u=p("wsDir.html","html"),L=t.relative(u),I=t.absolute(u),R=T("options.pug.php",!1),d=T("options.pug.lint",null),f=T("options.fileLoader.html.use",!0),P=T("options.fileLoader.html.hash",!0),m=T("options.fileLoader.html.target",[{tag:"img",attribute:"src",type:"src"},{tag:"img",attribute:"srcset",type:"srcset"},{tag:"img",attribute:"data-src",type:"src"},{tag:"img",attribute:"data-srcset",type:"srcset"},{tag:"source",attribute:"src",type:"src"}]),D=T("options.html.minify",!1),U=p("wsDir.css","css"),N=t.relative(U),g=t.absolute(U),h=T("options.fileLoader.css.use",!0),M=T("options.fileLoader.css.hash",!0),C=T("options.css.minify",!1),H=T("options.css.postcss.mqpacker",!0),y=T("options.css.postcss.autoprefixer",void 0),j=T("deployDir.css",["common","css"]),b=t.absolute([l,...j]),v=p("wsDir.js","js"),Y=t.relative(v),F=t.absolute(v),W=T("options.js.splitFilename",null),J=T("options.js.tsconfig","tsconfig.json"),w=T("options.js.sourceMap",!1),B=T("options.js.eslint",void 0),G=T("options.fileLoader.js.use",!0),V=T("options.fileLoader.js.hash",!0),x=T("options.js.minify",!1),k=T("options.js.terser",{parallel:!0,extractComments:!1,terserOptions:{compress:{drop_console:!0}}}),q=T("deployDir.js",["common","js"]),K=t.absolute([l,...q]),Q=T("options.pug.vuePugLint",null),X=(()=>{if(!T("options.fileLoader.vue.use",!0))return{};const e=T("options.fileLoader.vue.loader",null);return null===e?{video:["src","poster"],source:"src",img:"src",image:["xlink:href","href"],use:["xlink:href","href"]}:e})(),$=T("deployDir.json",["common","data"]),z=p("wsDir.yaml2json","yaml2json"),Z=O("wsDir.yaml2json","yaml2json"),ee=T("options.json.minify",!1),te=[l,...$],se=(oe="wsDir.img",ie="img",t.absolute(p(oe,ie)));var oe,ie;const _e=T("deployDir.img",["common","img"]),re=[l,..._e],Se=T("url",""),ne=T("siteRoot","/"),ae=""!==Se?Se+ne.replace(/\/$/,""):"",Te=T("title",""),le=T("author",""),Ee=T("description",""),pe=T("options.webp",[]),Oe=T("options.imagemin",void 0);e.BUILD=o,e.CSS_MINIFY=C,e.CSS_POSTCSS_AUTOPREFIXER_OPTION=y,e.CSS_POSTCSS_MQ_PACKER=H,e.DEPLOY_IMG_ARRAY=re,e.DEPLOY_YAML2JSON_ARRAY=te,e.DIST=l,e.DIST_ABSOLUTE=E,e.ESLINT=B,e.HTML_MINIFY=D,e.IS_HASH_CSS_FILE_LOADER=M,e.IS_HASH_HTML_FILE_LOADER=P,e.IS_HASH_JS_FILE_LOADER=V,e.IS_PRODUCTION=a,e.JSON_MINIFY=ee,e.JS_MINIFY=x,e.JS_SOURCE_MAP=w,e.JS_SPLIT_FILENAME=W,e.JS_TERSER=k,e.MODE=i,e.MODE_ENV=r,e.NODE_ENV=_,e.OUTPUT_CSS_ARRAY=j,e.OUTPUT_CSS_PATH_ABSOLUTE=b,e.OUTPUT_IMG_ARRAY=_e,e.OUTPUT_IN_PHP=R,e.OUTPUT_JSON_ARRAY=$,e.OUTPUT_JS_ARRAY=q,e.OUTPUT_JS_PATH_ABSOLUTE=K,e.PUG_LINT_FILE=d,e.SITE_AUTHOR=le,e.SITE_DESCRIPTION=Ee,e.SITE_DOMAIN=Se,e.SITE_ROOT=ne,e.SITE_TITLE=Te,e.SITE_URL=ae,e.TARGET_HTML_FILE_LOADER=m,e.TSCONFIG=J,e.USE_CSS_FILE_LOADER=h,e.USE_HTML_FILE_LOADER=f,e.USE_IMAGEMIN=Oe,e.USE_JS_FILE_LOADER=G,e.VUE_LOADER_ASSETS=X,e.VUE_PUG_LINT_FILE=Q,e.WEBP_CONVERTER_CONFIG=pe,e.WS_CSS_ARRAY=U,e.WS_CSS_PATH=N,e.WS_CSS_PATH_ABSOLUTE=g,e.WS_HTML_ARRAY=u,e.WS_HTML_PATH=L,e.WS_HTML_PATH_ABSOLUTE=I,e.WS_IMG_PATH_ABSOLUTE=se,e.WS_JS_ARRAY=v,e.WS_JS_PATH=Y,e.WS_JS_PATH_ABSOLUTE=F,e.WS_ROOT=S,e.WS_ROOT_ABSOLUTE=n,e.WS_STATIC_ARRAY=c,e.WS_STATIC_PATH=A,e.WS_YAML2JSON_ARRAY=z,e.WS_YAML2JSON_PATH=Z,Object.defineProperty(e,"__esModule",{value:!0})}));
